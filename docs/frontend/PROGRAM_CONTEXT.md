# Program Catalog Implementation Context

Generated by explorer agent on 2026-03-01. Read this before writing any code.

---

## Token Reference

The design system uses a three-tier hierarchy. The `--sl-*` prefix is the authoritative system (from `slodi-tokens.css`). The legacy non-prefixed tokens (from `globals.css`) still exist but should not be used in new components unless the prefixed equivalent does not exist.

### Colors — use these in new components

```css
/* Surfaces */
--sl-color-surface                 /* white card background */
--sl-color-surface-hover           /* subtle hover on surface */
--sl-color-surface-secondary       /* slightly off-white background */
--sl-color-background-secondary    /* page background, secondary */
--sl-color-background-tertiary     /* page background, tertiary */

/* Text */
--sl-color-text-primary
--sl-color-text-secondary
--sl-color-text-tertiary
--sl-color-text-disabled
--sl-color-text-inverse            /* white text on dark surfaces */

/* Brand */
--sl-color-primary                 /* green-500 */
--sl-color-primary-hover
--sl-color-primary-active
--sl-color-primary-subtle          /* green-50 tint */
--sl-color-primary-muted           /* green-100 tint */

/* Borders */
--sl-color-border
--sl-color-border-hover
--sl-color-border-focus            /* green on focus */
--sl-color-border-subtle

/* Semantic states */
--sl-color-success / --sl-color-success-subtle / --sl-color-success-text
--sl-color-warning / --sl-color-warning-subtle / --sl-color-warning-muted
--sl-color-error / --sl-color-error-subtle / --sl-color-error-muted / --sl-color-error-text

/* Patrol colors (scout-specific) */
--sl-color-patrol-drekar / --sl-color-patrol-drekar-foreground / --sl-color-patrol-drekar-subtle
--sl-color-patrol-falkar  / -foreground / -subtle
--sl-color-patrol-drott   / -foreground / -subtle
--sl-color-patrol-rekkar  / -foreground / -subtle
--sl-color-patrol-rover   / -foreground / -subtle
--sl-color-patrol-adrir   / -foreground / -subtle
```

### Typography

```css
/* Font sizes — use these, NOT --sl-font-size-* (those are not in slodi-tokens.css) */
--sl-text-heading-1   /* 48px */
--sl-text-heading-2   /* 36px */
--sl-text-heading-3   /* 30px */
--sl-text-heading-4   /* 24px */
--sl-text-heading-5   /* 20px */
--sl-text-heading-6   /* 18px */
--sl-text-body-lg     /* 18px */
--sl-text-body        /* 16px */
--sl-text-body-sm     /* 14px */
--sl-text-caption     /* 14px */
--sl-text-overline    /* 12px */

/* Font weights — use these, NOT --sl-font-weight-semibold (not in slodi-tokens.css) */
--sl-font-weight-heading    /* bold, 700 */
--sl-font-weight-body       /* regular, 400 */
--sl-font-weight-emphasis   /* semibold, 600 */

/* Line heights */
--sl-line-height-heading    /* 1.25 */
--sl-line-height-body       /* 1.5 */
--sl-line-height-relaxed    /* 1.625 */

/* Font families */
--sl-font-family-heading
--sl-font-family-body
```

### Spacing

```css
/* Inset (padding inside components) */
--sl-spacing-inset-xs   /* 8px */
--sl-spacing-inset-sm   /* 12px */
--sl-spacing-inset-md   /* 16px */
--sl-spacing-inset-lg   /* 24px */
--sl-spacing-inset-xl   /* 32px */

/* Stack (vertical gap between elements) */
--sl-spacing-stack-xs   /* 8px */
--sl-spacing-stack-sm   /* 12px */
--sl-spacing-stack-md   /* 16px */
--sl-spacing-stack-lg   /* 24px */
--sl-spacing-stack-xl   /* 32px */

/* Gap (horizontal gap between inline elements) */
--sl-spacing-gap-xs    /* 4px */
--sl-spacing-gap-sm    /* 8px */
--sl-spacing-gap-md    /* 12px */
--sl-spacing-gap-lg    /* 16px */
--sl-spacing-gap-xl    /* 24px */

/* Semantic layout spacing */
--sl-spacing-section    /* 96px — for major page sections */
--sl-spacing-container  /* 64px */
--sl-spacing-component  /* 24px — gap between sub-components */
--sl-spacing-element    /* 16px */
```

### Radius

```css
--sl-radius-badge    /* full pill */
--sl-radius-chip     /* full pill */
--sl-radius-button   /* 8px */
--sl-radius-input    /* 8px */
--sl-radius-card     /* 12px */
--sl-radius-modal    /* 16px */
```

### Shadows

```css
--sl-shadow-card         /* sm — resting card */
--sl-shadow-card-hover   /* md — elevated card */
--sl-shadow-dropdown     /* lg — floating menus */
--sl-shadow-modal        /* xl — modal dialogs */
```

### Transitions

```css
--sl-transition-fast   /* 150ms ease-out */
--sl-transition-base   /* 250ms ease-in-out */
--sl-transition-slow   /* 350ms ease-in-out */
```

### Z-index

```css
--sl-z-dropdown   /* 1000 */
--sl-z-modal      /* 1050 */
--sl-z-popover    /* 1060 */
--sl-z-tooltip    /* 1070 */
```

### Primitive tokens (direct use sometimes acceptable in components)

```css
--sl-primitive-opacity-10 / -20 / -30 / -40 / -60 / -80
--sl-primitive-font-weight-medium    /* 500 */
--sl-primitive-font-weight-semibold  /* 600 */
--sl-primitive-font-weight-bold      /* 700 */
--sl-primitive-line-height-snug      /* 1.375 */
--sl-primitive-height-sm             /* 32px — minimum button hit target */
--sl-primitive-icon-2xl              /* 48px */
--sl-primitive-space-1               /* 4px */
--sl-primitive-z-20                  /* 20 */
```

---

## CSS Module Conventions

**Class naming:** camelCase (e.g., `styles.filterTitle`, `styles.tagButtonActive`, `styles.skeletonMedia`).

**Token references:** All token values are wrapped in `hsl()` when used as colors:

```css
background: hsl(var(--sl-color-surface));
border: 1px solid hsl(var(--sl-color-border) / var(--sl-primitive-opacity-40));
color: hsl(var(--sl-color-text-primary));
```

Opacity modifiers are applied inline using `/` syntax: `hsl(var(--token) / 0.3)` or `hsl(var(--token) / var(--sl-primitive-opacity-30))`.

**Non-color tokens** (spacing, radius, shadow, transition) are used directly without `hsl()`:

```css
padding: var(--sl-spacing-inset-md);
border-radius: var(--sl-radius-card);
box-shadow: var(--sl-shadow-card);
transition: box-shadow var(--sl-transition-base);
```

**Responsive breakpoints (from primitive tokens — use these exact values in media queries):**

- `640px` — mobile / small (most used)
- `768px` — tablet
- `1024px` — tablet landscape / narrow desktop
- `1280px` — wide desktop

Breakpoints are written as `@media (max-width: Npx)` (mobile-first by default, but existing code uses max-width descending blocks).

**Accessibility:**
Every CSS module includes:

- `@media (prefers-reduced-motion: reduce)` block that disables transitions/animations
- `@media (prefers-contrast: high)` block that increases border widths
- Focus-visible rings using `outline: 2px solid hsl(var(--sl-color-primary)); outline-offset: 2px`

**Dark mode:** Handled entirely at the token level via `:root.dark` / `[data-theme="dark"]` overrides in `slodi-tokens.css`. Component CSS does not need `@media (prefers-color-scheme: dark)` rules; tokens adapt automatically.

---

## Data Fetching Pattern

**Library/approach:** Custom hooks wrapping `fetchWithAuth` from `lib/api.ts`. No SWR or React Query. No server components in the programs section — all pages are `"use client"`.

**The data flow chain:**

```
page.tsx
  → custom hook (hooks/usePrograms.ts, hooks/useTags.ts, etc.)
    → service function (services/programs.service.ts)
      → fetchWithAuth (lib/api.ts)
        → fetch() with Authorization: Bearer <token>
          → buildApiUrl() (lib/api-utils.ts) uses NEXT_PUBLIC_API_URL
```

**Auth token:** Obtained from `useAuth()` which exposes `getToken: () => Promise<string | null>`. The token is always passed down as a function reference, not cached by the caller:

```typescript
const { getToken } = useAuth();
const data = await fetchPrograms(workspaceId, getToken);
```

**Example hook (hooks/usePrograms.ts):**

```typescript
export default function usePrograms(
  workspaceId: string | null,
): UseProgramsResult {
  const { getToken } = useAuth();
  const [programs, setPrograms] = useState<Program[] | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  const loadPrograms = useCallback(async () => {
    if (!workspaceId) {
      setLoading(false);
      return;
    }
    setLoading(true);
    setError(null);
    try {
      const data = await fetchPrograms(workspaceId, getToken);
      setPrograms(data);
    } catch (err) {
      const errorMessage = handleApiError(err, "Failed to fetch programs");
      setError(new Error(errorMessage));
      setPrograms([]);
    } finally {
      setLoading(false);
    }
  }, [workspaceId, getToken]);

  useEffect(() => {
    loadPrograms();
  }, [loadPrograms]);
  return { programs, loading, error, refetch: loadPrograms };
}
```

**Where types live:** Collocated with the service in `services/programs.service.ts`. Custom hook types are defined inline in the same file (e.g., `UseProgramsResult`). Types are not separated into a shared `types/` directory — each service file owns its types.

**Loading state pattern:** `isLoading` boolean passed as a prop to child components. `ProgramGrid` renders inline skeletons when `isLoading={true}` — it renders 6 shimmer placeholder cards directly inside the grid layout.

**Error state pattern:** The error string is passed as a prop to `ProgramGrid`'s `emptyMessage`. No dedicated error UI component — errors are shown as empty state text.

---

## Component Conventions

**Prop type definitions:** Separate `interface` at the top of the same file (never in a separate `.d.ts`).

**Default prop pattern:** Destructuring defaults directly in function signature:

```typescript
export default function ProgramGrid({
  view = 'grid',
  isLoading = false,
  isEmpty = false,
  emptyMessage = 'No programs found',
  className = '',
}: ProgramGridProps) {
```

**Event handler naming:** `handleX` for local handlers, `onX` for props that accept callbacks from parent:

```typescript
// Prop name:
onEdit?: () => void;
// Local handler:
const handleEdit = (e: React.MouseEvent) => { ... };
```

**Children pattern:** Used for composition in `ProgramGrid` and `Modal`. The parent renders cards inside `ProgramGrid`, not the grid itself. `Modal` wraps any form content via `children`.

**className prop:** Accepted as optional `string` for external override. Combined with template literals:

```typescript
className={`${styles.card} ${className || ''}`}
```

**Short representative component structure:**

```tsx
"use client";

import styles from "./ComponentName.module.css";

interface ComponentNameProps {
  value: string;
  onChange: (value: string) => void;
  className?: string;
}

export default function ComponentName({
  value,
  onChange,
  className = "",
}: ComponentNameProps) {
  return <div className={`${styles.container} ${className}`}>...</div>;
}
```

---

## TypeScript Conventions

**Where types are defined:** In the service file that owns the entity (`services/programs.service.ts`, `services/users.service.ts`). Exported with `export type`.

**API response type pattern:**

```typescript
export type Program = {
  id: string;
  content_type: "program";
  name: string;
  description: string | null;
  like_count: number;
  created_at: string;
  author: { id: string; name: string; email: string };
  tags?: Array<{ id: string; name: string }>;
  // Optional/nullable fields use `| null`
  image: string | null;
};
```

**Naming conventions:**

- Types/interfaces: PascalCase (`Program`, `ProgramUpdateInput`, `UseProgramsResult`)
- Input/mutation types: suffix with `Input` or `CreateInput`/`UpdateInput`
- Hook return types: prefix with `Use` (`UseProgramsResult`)
- Enum-like string unions: inline type aliases (`type SortOption = 'newest' | 'oldest' | 'most-liked' | 'alphabetical'`)

**Strict mode:** TypeScript strict mode is on. Null checks are required. Use `?:` for optional props and `| null` for nullable fields.

---

## URL State Pattern

Filter/sort/search state on the programs page is **not** in the URL — it is managed with `useState` in the page component (via `useProgramFilters` hook). Pagination is also in-memory via `usePagination`.

The only place `useSearchParams` is used is in `app/unsubscribe/page.tsx` for a simple email parameter.

Navigation (push to a new route) uses `useRouter` from `next/navigation`:

```typescript
import { useRouter } from "next/navigation";
const router = useRouter();
router.push(`/programs/${id}`);
```

**Important:** There is currently no URL persistence for search/filter/sort state on the programs page. This is a known gap — if you build URL-based state, you would introduce `useSearchParams` and `router.replace`.

---

## What Already Exists

### Core API & Auth

- [x] `frontend/lib/api.ts` — `fetchWithAuth()` function, handles 401 redirect, 204 No Content, JSON parsing
- [x] `frontend/lib/api-utils.ts` — `buildApiUrl()`, `handleApiError()`, `checkResponse()` helpers
- [x] `frontend/contexts/AuthContext.tsx` — `AuthProvider` and `useAuth()` hook, exposes `user`, `getToken`, `isAuthenticated`, `isLoading`

### Services

- [x] `frontend/services/programs.service.ts` — full CRUD: `fetchPrograms`, `fetchProgramById`, `createProgram`, `updateProgram`, `deleteProgram`, `toggleProgramLike`. Also includes `filterProgramsByQuery`, `filterProgramsByTags`, `sortPrograms`, `extractTags`. Owns `Program`, `ProgramCreateInput`, `ProgramUpdateInput` types.
- [x] `frontend/services/users.service.ts` — `getCurrentUser`, `User` type

### Hooks

- [x] `frontend/hooks/usePrograms.ts` — loads programs by workspaceId, returns `{ programs, tags, loading, error, refetch }`
- [x] `frontend/hooks/useTags.ts` — loads all tags
- [x] `frontend/hooks/useProgramFilters.ts` — wraps `filterProgramsByQuery`, `filterProgramsByTags`, `sortPrograms` into controlled state
- [x] `frontend/hooks/usePagination.ts` — paginates any array; returns `{ currentPage, totalPages, paginatedItems, setCurrentPage, totalItems, itemsPerPage }`
- [x] `frontend/hooks/useAuth.ts` — re-exports `useAuth` from `AuthContext`
- [x] `frontend/hooks/useDefaultWorkspaceId.ts` — resolves shared workspace ID from env or `/api/config`
- [x] `frontend/hooks/useUserWorkspace.ts` — resolves the current user's private workspace
- [x] `frontend/hooks/useWorkspaceRole.ts` — returns user's role in a given workspace
- [x] `frontend/hooks/useProgramActions.ts` — navigation helpers

### Program Catalog Page & Components

- [x] `frontend/app/programs/page.tsx` — full two-column page: sidebar filters + main content grid with pagination, modals for create/edit/delete
- [x] `frontend/app/programs/layout.tsx` — thin wrapper layout
- [x] `frontend/app/programs/program.module.css` — two-column page layout CSS

- [x] `frontend/app/programs/components/ProgramCard.tsx` — article card with image, title, author, tags (max 4 visible), like button, favorite button, read-more button, accessible action menu (edit/delete)
- [x] `frontend/app/programs/components/ProgramCard.module.css` — full token-compliant CSS

- [x] `frontend/app/programs/components/ProgramGrid.tsx` — grid wrapper; renders loading skeletons (6 shimmer cards), empty state, or children
- [x] `frontend/app/programs/components/ProgramGrid.module.css`

- [x] `frontend/app/programs/components/ProgramSearch.tsx` — debounced search input (300ms default) with clear button and result count display
- [x] `frontend/app/programs/components/ProgramSearch.module.css`

- [x] `frontend/app/programs/components/ProgramFilters.tsx` — collapsible sidebar filter panel with tag multi-select buttons (toggle on/off), active count badge, clear-all button, optional workspace select dropdown, optional visibility radio group
- [x] `frontend/app/programs/components/ProgramFilters.module.css`

- [x] `frontend/app/programs/components/ProgramSort.tsx` — native `<select>` with 4 options: newest, oldest, most-liked, alphabetical
- [x] `frontend/app/programs/components/ProgramSort.module.css`

- [x] `frontend/app/programs/components/ProgramsHeader.tsx` — page `<h1>` and floating action button (FAB)
- [x] `frontend/app/programs/components/ProgramsToolbar.tsx` — composes ProgramSearch + ProgramFilters + ProgramSort into a single toolbar component (alternative to sidebar layout — not currently used in main page)

- [x] `frontend/app/programs/components/Pagination.tsx` — prev/next + numbered pages with ellipsis, shows "Sýni X-Y af Z dagskrám"
- [x] `frontend/app/programs/components/Breadcrumb.tsx`

- [x] `frontend/app/programs/components/NewProgramForm.tsx` — create form inside modal
- [x] `frontend/app/programs/components/ProgramForm.tsx`
- [x] `frontend/app/programs/[id]/components/ProgramDetailEdit.tsx` — edit form inside modal
- [x] `frontend/app/programs/components/ProgramDetail.tsx` — full detail view
- [x] `frontend/app/programs/components/ProgramDetailHero.tsx`
- [x] `frontend/app/programs/components/ProgramDetailTabs.tsx`
- [x] `frontend/app/programs/components/ProgramDetailSkeleton.tsx`
- [x] `frontend/app/programs/components/ProgramComments.tsx`
- [x] `frontend/app/programs/components/ProgramQuickInfo.tsx`
- [x] `frontend/app/programs/components/LikeButton.tsx` — standalone like button
- [x] `frontend/app/programs/components/ProgramTabs.tsx`

### Shared UI Components

- [x] `frontend/components/Button/Button.tsx` — variants: primary / secondary / muted / danger / ghost / info. Can render as `<a>` via `as="a"` prop. Uses legacy globals tokens (not `--sl-*`).
- [x] `frontend/components/Modal/Modal.tsx` — backdrop + dialog with title header and close button. Keyboard: Escape closes. Backdrop click closes.
- [x] `frontend/components/DeleteConfirmModal/DeleteConfirmModal.tsx` — wraps Modal with Icelandic confirmation text and cancel/delete buttons.
- [x] `frontend/components/DashboardSidebar/DashboardSidebar.tsx` — collapsible sidebar with role-based nav, uses `lucide-react` icons
- [x] `frontend/components/Footer/index.tsx`
- [x] `frontend/components/Header/index.tsx`
- [x] `frontend/components/DashboardLayout/index.tsx`
- [x] `frontend/components/LikeButton/LikeButton.tsx`
- [x] `frontend/contexts/LikesContext.tsx` — `useLikes(programId, initialCount)` → `{ likeCount, isLiked, toggleLike }`
- [x] `frontend/contexts/FavoritesContext.tsx` — `useFavorite(programId)` → `{ isFavorite, toggleFavorite }`

---

## What Needs to Be Built

The codebase on branch `feature/program-catalog-rework` is clean with no pending changes. Based on the branch name, work in progress is expected on the program catalog. Specific missing components depend on the rework specification, but based on the survey, the following gaps or improvements are likely targets:

1. **URL state persistence for filters** — search, tag, sort, and page are currently in-memory only; `useSearchParams` integration would make pages bookmarkable and shareable
2. **ProgramsToolbar integration** — `ProgramsToolbar.tsx` exists but is not used in `page.tsx`; the page uses the sidebar layout directly
3. **List view for ProgramGrid** — `GridView = 'grid' | 'list'` type exists and the `view` prop is accepted, but no toggle UI exists and list-view card styling is not implemented
4. **Program detail page improvements** — `app/programs/[id]/page.tsx` exists; any rework items there

---

## Reuse Opportunities

- **`ProgramGrid`** at `frontend/app/programs/components/ProgramGrid.tsx` — use for any grid of cards; pass children as `ProgramCard` elements. Loading skeletons built in.
- **`ProgramSearch`** at `frontend/app/programs/components/ProgramSearch.tsx` — use for any debounced text search. Props: `value`, `onChange`, `resultCount`, `placeholder`.
- **`ProgramFilters`** at `frontend/app/programs/components/ProgramFilters.tsx` — use for tag multi-select sidebar. Supports optional workspace/visibility sections.
- **`Modal`** at `frontend/components/Modal/Modal.tsx` — all create/edit/confirm dialogs use this.
- **`DeleteConfirmModal`** at `frontend/components/DeleteConfirmModal/DeleteConfirmModal.tsx` — already built for reuse; accepts `programName`, `isDeleting`, `onClose`, `onConfirm`.
- **`useProgramFilters`** at `frontend/hooks/useProgramFilters.ts` — encapsulates all filter/sort state; use instead of reimplementing.
- **`usePagination`** at `frontend/hooks/usePagination.ts` — generic paginator; accepts any array and items-per-page.
- **`fetchWithAuth`** at `frontend/lib/api.ts` — the only authorized fetch function. All backend calls use this.
- **`buildApiUrl`** at `frontend/lib/api-utils.ts` — constructs full API URLs from endpoint paths.

---

## Gotchas

### Token naming inconsistency between CSS modules

`ProgramCard.module.css` and `ProgramSearch.module.css` correctly use `--sl-*` tokens from `slodi-tokens.css` (e.g., `--sl-text-body-sm`, `--sl-font-weight-emphasis`, `--sl-spacing-gap-xs`).

`ProgramFilters.module.css`, `ProgramGrid.module.css`, and `program.module.css` use a **mix** of `--sl-*` tokens AND non-existent `--sl-font-size-*`, `--sl-font-weight-semibold`, `--sl-spacing-inline-*`, `--sl-line-height-tight` tokens. These resolve to legacy `globals.css` tokens (e.g., `--font-size-sm`, `--font-weight-semibold`) via fallback, not from `slodi-tokens.css`. When building new files, **do not use** these patterns:

```css
/* WRONG — these do not exist in slodi-tokens.css */
font-size: var(--sl-font-size-sm);
font-weight: var(--sl-font-weight-semibold);
gap: var(--sl-spacing-inline-xs);
line-height: var(--sl-line-height-tight);
```

Instead use:

```css
/* CORRECT */
font-size: var(--sl-text-body-sm);
font-weight: var(--sl-font-weight-emphasis);
gap: var(--sl-spacing-gap-xs);
line-height: var(--sl-line-height-heading);
```

### Tokens that do NOT exist in slodi-tokens.css

Per `CLAUDE.md`:

- `--sl-font-size-sm` → use `--sl-text-body-sm`
- `--sl-font-weight-medium` → use `--sl-primitive-font-weight-medium`
- `--sl-line-height-tight` → use `--sl-line-height-heading`
- `--sl-spacing-inline-*` → use `--sl-spacing-gap-*`
- `--sl-icon-sm` → use `--sl-size-icon-sm`
- `--sl-color-text-on-primary` → not defined; use `--sl-color-text-inverse`
- `--sl-color-text-placeholder` → not defined; use `--sl-color-text-tertiary`

### Button component uses legacy tokens

`components/Button/Button.module.css` uses `hsl(var(--foreground))`, `hsl(var(--primary))`, `hsl(var(--error))` from `globals.css`, not `--sl-*` tokens. This is intentional for that component; do not migrate it unless explicitly asked.

### All program pages are client components

`app/programs/page.tsx` and all child components under `app/programs/components/` have `"use client"` at the top. There are no server components in the programs section. Data is fetched in hooks with `useEffect`.

### Auth token flow

`getToken` returns `Promise<string | null>`. It can return `null` if the user is not authenticated. Always check for null before making API calls. The `fetchWithAuth` function will throw if token is null — it is safe to let it throw and catch in the hook.

### Icelandic UI strings

All visible text in the UI is in Icelandic. Button labels, placeholder text, aria-labels, error messages, and empty states are all `is` locale. Maintain this in any new components.

### `ProgramsToolbar` vs page layout

`ProgramsToolbar.tsx` exists as a composed component that combines Search + Filters + Sort in a horizontal bar layout. The main `page.tsx` does NOT use it — instead it renders each component individually in a two-column sidebar layout. `ProgramsToolbar` is available if building a different layout (e.g., top bar instead of sidebar).

### Modal close requires user confirmation

`Modal.tsx` shows `window.confirm()` (Icelandic text) when the X button is clicked, to prevent accidental data loss. Backdrop click does NOT trigger this confirmation — it closes immediately. This is intentional UX.

### CSS module specificity for view variants

`ProgramGrid.module.css` uses `.grid.grid` (double class) for the default grid layout specificity:

```css
.grid.grid {
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}
```

This is intentional to win over `.grid.list` specificity.

### API base URL

`buildApiUrl()` reads `NEXT_PUBLIC_API_URL` environment variable. In development this points to the FastAPI backend (typically `http://localhost:8000`). In Docker it is resolved from `/api/config`. The programs endpoint pattern is: `GET /workspaces/{workspaceId}/programs`.
